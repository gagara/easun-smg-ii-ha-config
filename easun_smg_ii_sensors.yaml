# Missing:
# PV Temperature
# Secondary Output Priority (+time)
# Secondsry Charger priority (+time)
# Battery Type
# Constant pressure
# Max discharge current
# Total PV generation

- name: Fault Code
  slave: 1
  address: 100
  data_type: uint32
  input_type: holding
  unique_id: smgii1_fault_code

- name: Warning Code
  slave: 1
  address: 108
  data_type: uint32
  input_type: holding
  unique_id: smgii1_warning_code

- name: smgii Serial Number
  slave: 1
  address: 186
  data_type: string
  count: 12
  input_type: holding
  unique_id: smgii1_serial_number

- name: Operating Mode
  slave: 1
  address: 201
  data_type: uint16
  input_type: holding
  unique_id: smgii1_operating_mode
  #0: Power On Mode
  #1: Standby mode
  #2: Mains mode
  #3: Off-Grid mode
  #4: Bypass mode
  #5: Charging mode
  #6: Fault mode

- name: Grid Frequency
  unit_of_measurement: Hz
  slave: 1
  address: 203
  data_type: int16
  device_class: frequency
  scale: 0.01
  precision: 2
  input_type: holding
  unique_id: smgii1_grid_frequency

- name: AC Charging Power
  unit_of_measurement: W
  slave: 1
  address: 209
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_ac_charging_power

- name: Inverter Module Temperature
  unit_of_measurement: °C
  slave: 1
  address: 231
  data_type: int16
  device_class: temperature
  precision: 0
  input_type: holding
  unique_id: smgii1_inverter_module_temperature

- name: Output Active Power
  unit_of_measurement: W
  slave: 1
  address: 254
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_output_active_power

- name: Output Apparent Power
  unit_of_measurement: VA
  slave: 1
  address: 255
  data_type: int16
  device_class: apparent_power
  precision: 0
  input_type: holding
  unique_id: smgii1_output_apparent_power

- name: Load Percentage
  unit_of_measurement: "%"
  slave: 1
  address: 256
  data_type: int16
  device_class: power_factor
  precision: 0
  input_type: holding
  unique_id: smgii1_load_percentage

- name: Battery Voltage
  unit_of_measurement: V
  slave: 1
  address: 277
  data_type: int16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_battery_voltage

- name: Battery Current
  unit_of_measurement: A
  slave: 1
  address: 278
  data_type: int16
  device_class: current
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_battery_current

- name: Battery Power
  unit_of_measurement: W
  slave: 1
  address: 279
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_battery_power

- name: SOC
  unit_of_measurement: "%"
  slave: 1
  address: 280
  data_type: uint16
  device_class: power_factor
  precision: 0
  input_type: holding
  unique_id: smgii1_soc

- name: DC Module Temperature
  unit_of_measurement: °C
  slave: 1
  address: 281
  data_type: int16
  device_class: temperature
  precision: 0
  input_type: holding
  unique_id: smgii1_dc_module_temperature

- name: Total PV Power
  unit_of_measurement: W
  slave: 1
  address: 302
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_total_pv_power

- name: Total PV Charging Power
  unit_of_measurement: W
  slave: 1
  address: 303
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_total_pv_charging_power

- name: Total PV Charging Current
  unit_of_measurement: A
  slave: 1
  address: 304
  data_type: int16
  device_class: current
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_total_pv_charging_current

  #TODO: check this
- name: PV Temperature
  unit_of_measurement: °C
  slave: 1
  address: 305
  data_type: int16
  device_class: temperature
  precision: 0
  input_type: holding
  unique_id: smgii1_pv_temperature

- name: Grid Voltage
  unit_of_measurement: V
  slave: 1
  address: 338
  data_type: int16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_grid_voltage

- name: Grid Power
  unit_of_measurement: W
  slave: 1
  address: 340
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_grid_power

- name: PV1 Voltage
  unit_of_measurement: V
  slave: 1
  address: 351
  data_type: int16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_pv1_voltage

- name: PV1 Current
  unit_of_measurement: A
  slave: 1
  address: 352
  data_type: int16
  device_class: current
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_pv1_current

- name: PV1 Power
  unit_of_measurement: W
  slave: 1
  address: 353
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_pv1_power

- name: PV2 Voltage
  unit_of_measurement: V
  slave: 1
  address: 389
  data_type: int16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_pv2_voltage

- name: PV2 Current
  unit_of_measurement: A
  slave: 1
  address: 390
  data_type: int16
  device_class: current
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_pv2_current

- name: PV2 Power
  unit_of_measurement: W
  slave: 1
  address: 391
  data_type: int16
  device_class: power
  precision: 0
  input_type: holding
  unique_id: smgii1_pv2_power

- name: Output Current
  unit_of_measurement: A
  slave: 1
  address: 605
  data_type: int16
  device_class: current
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_output_current

- name: Output Voltage
  unit_of_measurement: V
  slave: 1
  address: 606
  data_type: int16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_output_voltage

- name: Output Frequency
  unit_of_measurement: Hz
  slave: 1
  address: 607
  data_type: int16
  device_class: frequency
  scale: 0.01
  precision: 2
  input_type: holding
  unique_id: smgii1_output_frequency

- name: Daily PV Energy Generation
  unit_of_measurement: Wh
  slave: 1
  address: 702
  data_type: int16
  device_class: energy_storage
  scale: 0.01
  precision: 2
  input_type: holding
  unique_id: smgii1_daily_pv_energy_generation

  #TODO: verify
- name: Total PV Energy Generation
  unit_of_measurement: Wh
  slave: 1
  address: 703
  data_type: int32
  device_class: energy_storage
  scale: 0.01
  precision: 2
  input_type: holding
  unique_id: smgii1_total_pv_energy_generation

  ###### Read/Write ######

  #TODO: verify
- name: Output Priority Code
  slave: 1
  address: 601
  data_type: uint16
  input_type: holding
  unique_id: smgii1_output_priority_code
  #1: SUB
  #2: SBU
  #3: SUF

  # Battery type

- name: Battery Overvoltage Protection Point
  unit_of_measurement: V
  slave: 1
  address: 631
  data_type: uint16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_battery_overvoltage_protection_point

- name: Charger Source Priority Code
  slave: 1
  address: 632
  data_type: uint16
  input_type: holding
  unique_id: smgii1_charger_source_priority_code
  #1: SOF
  #2: SNU
  #3: OSO
  #4: SOR

- name: Max Charging Voltage
  unit_of_measurement: V
  slave: 1
  address: 637
  data_type: uint16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_max_charging_voltage

- name: Floating Charging Voltage
  unit_of_measurement: V
  slave: 1
  address: 638
  data_type: uint16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_floating_charging_voltage

- name: Constant Pressure to Float Waiting Time
  unit_of_measurement: min
  slave: 1
  address: 639
  data_type: uint16
  device_class: duration
  input_type: holding
  unique_id: smgii1_constant_pressure_to_float_waiting_time

- name: Max Charging Current
  unit_of_measurement: A
  slave: 1
  address: 640
  data_type: uint16
  device_class: current
  scale: 0.1
  precision: 0
  input_type: holding
  unique_id: smgii1_maximum_charging_current

- name: Max Mains Charging Current
  unit_of_measurement: A
  slave: 1
  address: 641
  data_type: uint16
  device_class: current
  scale: 0.1
  precision: 0
  input_type: holding
  unique_id: smgii1_maximum_mains_charging_current

- name: Max Discharge Current Protection
  unit_of_measurement: A
  slave: 1
  address: 642
  data_type: uint16
  device_class: current
  scale: 1
  precision: 0
  input_type: holding
  unique_id: smgii1_maximum_discharge_current_protection

- name: Battery Back to OffGrid Voltage
  unit_of_measurement: V
  slave: 1
  address: 643
  data_type: uint16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_battery_back_to_offgrid_voltage

- name: Battery Back to Grid Voltage
  unit_of_measurement: V
  slave: 1
  address: 644
  data_type: uint16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_battery_back_to_grid_voltage

- name: Battery Low Voltage Protection
  unit_of_measurement: V
  slave: 1
  address: 646
  data_type: uint16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_battery_low_voltage_protection

  # % - 3

- name: Eq Charging Voltage
  unit_of_measurement: V
  slave: 1
  address: 334
  data_type: uint16
  device_class: voltage
  scale: 0.1
  precision: 1
  input_type: holding
  unique_id: smgii1_eq_charging_voltage

- name: Battery Equalization Time
  unit_of_measurement: min
  slave: 1
  address: 335
  data_type: uint16
  device_class: duration
  input_type: holding
  unique_id: smgii1_battery_equalization_time

- name: Eq Timeout Exit
  unit_of_measurement: min
  slave: 1
  address: 336
  data_type: uint16
  device_class: duration
  input_type: holding
  unique_id: smgii1_eq_timeout_exit

- name: Eq Charging Interval
  unit_of_measurement: day
  slave: 1
  address: 337
  data_type: uint16
  device_class: duration
  input_type: holding
  unique_id: smgii1_eq_charging_interval

  # Input mode: GNT

- name: smgii Buzzer Mode
  slave: 1
  address: 303
  data_type: uint16
  input_type: holding
  unique_id: smgii1_Buzzer_Mode
  #0: Silent
  #1: Beep on input source changes, warnings and faults
  #2: Beep on warnings and faults
  #3: Beep on faults

  #- name: smgii Boot Method
  #  slave: 1
  #  address: 406
  #  data_type: uint16
  #  input_type: holding
  #  unique_id: smgii1_Boot_Method
  #  #0: local & remote
  #  #1: local-only
  #  #2: remote-only

- name: smgii Exit Fault Mode
  slave: 1
  address: 426
  data_type: uint16
  input_type: holding
  unique_id: smgii1_Exit_Fault_Mode
  #1: Exit the fault state(only when the inverter enters the fault mode , it could be available)

- name: smgii Rated Power
  unit_of_measurement: W
  slave: 1
  address: 691
  data_type: uint16
  device_class: power
  input_type: holding
  unique_id: smgii1_Rated_Power
